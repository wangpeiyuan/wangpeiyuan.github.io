---
title: 9patch图片变色问题
date: 2016-06-08 11:13:25
comments: true
categories: Android
tags:
  - Android
  - 9patch
---
# 问题
最近在 .9.png 上遇到了一个比较奇怪的问题，一张灰色的带有透明度的图片弄成 .9 之后，透明度没掉了！！！这个问题就奇怪了，在网上搜了一下，几乎没看到有关于这个问题的解决方法，也没搜到有人有遇到这个问题。

<!--more-->

好了口说无凭，放上图看一下。

![first_img](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-first.png)![first_img_9](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-first.9.png)

前面一张是设计师给的切图，后面一张是本人弄的.9的图片，很明显的就看出颜色的变化。

看到这两张颜色差异这么大的图片，真是一脸的懵逼。.9用了这么久了，还真从来没遇到过这个问题。

# 过程
既然有问题，就要想办法解决。

首先，先看一下自己弄得.9是不是有哪个地方搞错了。仔细看了一下，确实没什么问题；这个就有意思了，既然不是这方面的问题，那到底是哪边出现的问题呢？

然后，我就 Google 了一下，几乎没发现有这个问题，这就很尴尬了，搞了半天搞不出问题出在哪。然后，想一下会不会是出图的时候出现问题了，就让设计师重新出张图，看看会不会这个环节导致的问题；然而，还是并没什么卵用，.9依旧变色。

最后，实在是看不出问题在哪，只能看看前面的.9的图片和这张.9的图片到底有哪个地方不同。

![first_img_more_px](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-more-px.png)
![first_img_more_px_9](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-more-px-9.png)

前面一张是设计师出的图，后面一张是.9的图片，这么一看，就很明显了，边上明显多出一个透明的像素。看到这个问题，就立马让设计师重新出一张边上不多这么个像素的图片，果然，解决了这么个问题。图片如下：

![after_img](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-after.png)![after_img_9](http://7xrx8e.com1.z0.glb.clouddn.com/blog-img-9patch-after.9.png)

简直是机智有木有。弄了这么久终于搞定了这个问题，心情简直爽得不要不要的😌。

# 总结
说一下为什么会遇到这个问题。前面在项目中遇到这种不规则的图片，比如带弧度的，圆形的图片，出现了图片一部分被截等情况，后面设计师给的方案是，不规则的图片四周多出一个透明的像素来解决这个问题。（不知道有木有更好的方案，有的话记得告知一下，万分感谢！），所以，在出要做成.9图片的时候，也是按照这种方式出图，就造成了这么个问题。

最后，来个总结，要制作.9的图片，边缘千万不能留一个透明的像素，不然会导致变色的情况出现，至于是什么原因导致了这个问题，由于个人对于 9patch 也仅仅是会用的等级，也就不敢妄加揣测。
